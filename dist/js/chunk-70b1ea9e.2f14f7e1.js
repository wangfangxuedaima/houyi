(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70b1ea9e"],{"0334":function(e,t,n){},"07ac":function(e,t,n){var i=n("23e7"),a=n("6f53").values;i({target:"Object",stat:!0},{values:function(e){return a(e)}})},"22ad":function(e,t,n){"use strict";var i=n("c4f3"),a=n.n(i);a.a},"30f5":function(e,t,n){},"345a":function(e,t,n){},4159:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classObject},e._l(e.buttons,(function(t,i){return n("div",{key:i,staticClass:"op-btn"},[t.hidden?e._e():n("div",[t.popover?n("el-popover",{attrs:{width:t.popover.width||400,trigger:t.popover.trigger||"hover",placement:t.popover.placement||"top"},model:{value:t.popover.isVisible,callback:function(n){e.$set(t.popover,"isVisible",n)},expression:"item.popover.isVisible"}},[t.popover.info?n("div",[e._v(" "+e._s(t.popover.info)+" ")]):e._e(),t.popover.slotName?e._t(t.popover.slotName):e._e(),n("el-button",{attrs:{slot:"reference",icon:t.icon,disabled:t.disabled,type:t.type||"primary",size:t.size||"medium",plain:t.isPlain},slot:"reference"},[e._v(" "+e._s(t.name)+" ")])],2):n("el-button",{attrs:{disabled:t.disabled,icon:t.icon,type:t.type||"primary",size:t.size||"medium",plain:t.isPlain},on:{click:function(n){return e.fOperate(t,i)}}},[e._v(" "+e._s(t.name)+" ")])],1)])})),0)},a=[],l=n("5530"),o=n("ade3"),r={props:{align:{type:String,default:"center"},isFloat:{type:Boolean,default:!0},buttons:{type:Array,default:function(){return[{name:"test",disabled:!1,type:"success",icon:"",hidden:!0,popover:{info:"",slotName:"",isVisible:!1,width:"400",trigger:"hover",placement:"top"}}]}}},computed:{classObject:function(){return Object(o["a"])({op:!0,float:this.isFloat},this.align,!0)}},methods:{fOperate:function(e,t){var n=Object(l["a"])({},e,{index:t});this.$emit("operate",n)}}},s=r,c=(n("e176"),n("2877")),u=Object(c["a"])(s,i,a,!1,null,"3fe70b65",null);t["a"]=u.exports},"482a":function(e,t,n){},"533e":function(e,t,n){},"641d":function(e,t,n){"use strict";var i=n("f3c4"),a=n.n(i);a.a},6536:function(e,t,n){"use strict";var i=n("e57f"),a=n.n(i);a.a},"65b1":function(e,t,n){"use strict";var i=n("30f5"),a=n.n(i);a.a},"72fe":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-view-wrap"},[n("el-form",e._b({ref:"form",attrs:{model:e.data,disabled:"view"===e.action}},"el-form",e.$attrs,!1),[n("el-row",e._l(e._formItems||[],(function(t,i){return n("el-col",{key:i,attrs:{span:t.span||24}},[n("el-form-item",e._b({attrs:{prop:t.prop}},"el-form-item",t.formItemAttrs,!1),["Slot"===t.type?e._t(t.prop):n(t.type,{tag:"component",attrs:{config:t},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,n)},expression:"data[item.prop]"}})],2)],1)})),1)],1),n("operation-buttons",{attrs:{buttons:e.operationBtns,align:"center"},on:{operate:e.fOperation}})],1)},a=[],l=(n("4de4"),n("4160"),n("d81d"),n("a434"),n("b0c0"),n("159b"),n("5530")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-cascader",e._b({directives:[{name:"list-getter",rawName:"v-list-getter",value:e.listGetterConfig,expression:"listGetterConfig"}],ref:e.config.prop,staticClass:"create_view_cascader",attrs:{options:e.dataList},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-cascader",e.config.attrs,!1))},r=[],s=(n("99af"),{name:"Cascader",props:{value:{type:[Object,String,Array]},config:{type:Object,default:function(){return{type:"Cascader",prop:"cascader",formItemAttrs:{label:"cascader",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{placeholder:"请输入",clearable:!0,separator:"/",props:{multiple:!0}},listGetter:{url:"/basemappings",params:{datatype:"plat"},keyMap:{list:"data"},data:[],optionValue:"map_value",optionName:"map_name",optionValueUseIndex:!0}}}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},dataList:function(){var e=this.config.listGetter;return e?e.data:this.config.data||[]},listGetterConfig:function(){var e=this.config.listGetter;return e?Object(l["a"])({},e,{ref:this.config.prop,filter:this.Ffilter}):null}},methods:{Ffilter:function(e){var t=this.config.listGetter,n=function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.map((function(n,a){var l=n[t.optionValue||"datavalue"];if(t.optionValueUseIndex){var o=++a;l=n.index?n.index:"".concat(o<10?"0".concat(o):o)}var r=i?"".concat(i,"-").concat(l):l;return{value:r,label:n[t.optionName||"dataname"],children:n.child?e(n.child,r):null}}))},i=t&&t.filter?t.filter(e):e,a=n(i);return a}}}),c=s,u=(n("c751"),n("2877")),f=Object(u["a"])(c,o,r,!1,null,null,null),d=f.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",e._b({staticClass:"create_view_input",model:{value:e.model,callback:function(t){e.model="string"===typeof t?t.trim():t},expression:"model"}},"el-input",e.config.attrs,!1),[e.config.attrs&&e.config.attrs.append?n("template",{slot:"append"},[e._v(e._s(e.config.attrs.append))]):e._e()],2)},m=[],h={name:"Input",props:{value:{type:String,default:""},config:{type:Object,default:function(){return{type:"Input",prop:"input",append:"",formItemAttrs:{label:"input",rules:[{required:!0,message:"请输入input类型",trigger:"blur"}]},attrs:{placeholder:"请输入",clearable:!0}}}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},g=h,b=(n("22ad"),Object(u["a"])(g,p,m,!1,null,"6fca0e84",null)),v=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create_view_multiinput"},e._l(e.model,(function(t,i){return n("el-input",e._b({key:i,model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}},"el-input",e.config.attrs,!1),[e.config.select?n("select-component",{attrs:{slot:"prepend",config:e._f("selectFilter")(e.config.select,i)},slot:"prepend",model:{value:t.select,callback:function(n){e.$set(t,"select",n)},expression:"item.select"}}):e._e(),n("el-button",{attrs:{slot:"append",icon:0===i?"el-icon-circle-plus-outline":"el-icon-delete",type:"danger",circle:""},on:{click:function(t){return e.fAddNew(i)}},slot:"append"})],1)})),1)},_=[],x=n("2909"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._b({directives:[{name:"list-getter",rawName:"v-list-getter",value:e.listGetterConfig,expression:"listGetterConfig"}],ref:e.config.prop,staticClass:"create_view_select",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-select",e.config.attrs,!1),e._l(e.dataList,(function(t,i){return n("el-option",{key:i,attrs:{label:e.config.listGetter&&e.config.listGetter.optionName?t[e.config.listGetter.optionName]:t.dataname,value:e.config.listGetter&&e.config.listGetter.optionValue?t[e.config.listGetter.optionValue]:t.datavalue}})})),1)},C=[],w={name:"Select",props:{value:{type:[Array,String],default:function(){return[]}},config:{type:Object,default:function(){return{type:"Select",prop:"select",formItemAttrs:{label:"select",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{placeholder:"请输入",clearable:!0},listGetter:{url:"/basemappings",params:{datatype:"plat"},keyMap:{list:"data"},data:[],optionValue:"map_value",optionName:"map_name"}}}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},dataList:function(){var e=this.config.listGetter;return e?e.data:this.config.data},listGetterConfig:function(){var e=this.config.listGetter;return e?Object(l["a"])({},e,{ref:this.config.prop}):null}}},O=w,j=(n("641d"),Object(u["a"])(O,k,C,!1,null,null,null)),I=j.exports,G={name:"MultiInput",components:{SelectComponent:I},data:function(){return{}},props:{value:{type:Array},config:{type:Object,default:function(){return{type:"MultiInput",prop:"multiInput",formItemAttrs:{label:"multiInput",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{style:"width: 550px"},select:{type:"Select",prop:"select",formItemAttrs:{label:"select",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{placeholder:"请输入",clearable:!0,style:"width: 150px"},listGetter:{url:"/basemappings",params:{datatype:"plat"},keyMap:{list:"data"},data:[],optionValue:"map_value",optionName:"map_name"}}}}}},computed:{model:{get:function(){return this.value||[]},set:function(e){this.$emit("input",e)}}},filters:{selectFilter:function(e,t){return Object(l["a"])({},e,{prop:e.prop+t})}},mounted:function(){0===this.model.length&&this.fAddNew(0)},methods:{fAddNew:function(e){if(0===e){if(this.model.length>=(this.config.length||5))return;this.model=[].concat(Object(x["a"])(this.model),[{value:this.config.defaultValue||"",select:this.config.select&&this.config.select.defaultValue||""}])}else this.model.splice(e,1),this.model=Object(x["a"])(this.model)}}},$=G,S=(n("c512"),Object(u["a"])($,y,_,!1,null,null,null)),V=S.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create_view_radio"},e._l(e.config.data,(function(t){return n("el-radio",e._b({key:t.value,attrs:{label:t.value},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-radio",e.config.attrs,!1),[e._v(e._s(t.text))])})),1)},L=[],N=(n("a9e3"),{name:"Radio",props:{value:{type:[Number,Boolean,String],default:null},config:{type:Object,default:function(){return{type:"Radio",prop:"radio",formItemAttrs:{label:"radio",rules:[{required:!0,message:"请输入",trigger:"blur"}]},data:[{text:"是",value:0},{text:"否",value:1}]}}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}),A=N,M=(n("65b1"),Object(u["a"])(A,E,L,!1,null,null,null)),F=M.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-checkbox-group",e._b({directives:[{name:"list-getter",rawName:"v-list-getter",value:e.listGetterConfig,expression:"listGetterConfig"}],ref:e.config.prop,staticClass:"create_view_checkbox",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-checkbox-group",e.config.attrs,!1),e._l(e.dataList,(function(t,i){return n("el-checkbox",{key:i,attrs:{label:e.config.listGetter&&e.config.listGetter.optionName?t[e.config.listGetter.optionName]:t.dataname}})})),1)},T=[],B=(n("caad"),n("a15b"),n("b64b"),n("07ac"),n("2532"),n("4795"),n("ed08")),q=n("2ef0"),P={name:"CheckBox",data:function(){return{listKeyMap:{}}},props:{value:{type:[Object,Array],default:function(){return[]}},config:{type:Object,default:function(){return{type:"CheckBox",prop:"checkBox",needKeyValue:!0,formItemAttrs:{label:"checkBox",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{placeholder:"请输入",clearable:!0,separator:"/",props:{multiple:!0}},listGetter:{url:"/basemappings",params:{datatype:"plat"},keyMap:{list:"data"},data:[],optionValue:"map_value",optionName:"map_name",optionValueUseIndex:!0}}}}},computed:{model:{get:function(){return Object(q["isObject"])(this.value)?Object.values(this.value||{}):this.value},set:function(e){var t=this,n={};e.forEach((function(e){Object.keys(t.listKeyMap).includes(e)&&(n[t.listKeyMap[e]]=e)})),this.$emit("input",n)}},dataList:function(){var e=this.config.listGetter;return e?e.data:this.config.data},listGetterConfig:function(){var e=this.config.listGetter;return e?Object(l["a"])({},e,{ref:this.config.prop,filter:this.Ffilter}):null}},watch:{model:function(e){this.config.defaultValue&&e.join()===this.config.defaultValue.join()&&this.fRestModel()}},created:function(){this.config.data&&this.Ffilter(this.config.data)},methods:{Ffilter:function(e){var t=this.config.listGetter&&this.config.listGetter.filter?this.config.listGetter.filter(e):e;return this.listKeyMap=Object(B["d"])({list:t,keyname:this.config.listGetter&&this.config.listGetter.optionName?this.config.listGetter.optionName:"dataname",valueName:this.config.listGetter&&this.config.listGetter.optionValue?this.config.listGetter.optionValue:"datavalue"}),this.fRestModel(),t},fRestModel:function(){var e=this;0!==Object.keys(this.listKeyMap).length&&setTimeout((function(){if(!e.config.directVal){var t=Object(B["f"])(e.listKeyMap),n=e.model.map((function(e){return t[e]})).filter((function(e){return!!e}));e.model=Object(x["a"])(n)}}),200)}}},U=P,z=Object(u["a"])(U,R,T,!1,null,null,null),K=z.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-date-picker",e._b({staticClass:"create_view_datapick",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-date-picker",e.config.attrs,!1))},H=[],J={name:"DataPicker",props:{value:{type:[String,Array],default:""},config:{type:Object,default:function(){return{type:"DataPicker",prop:"dataPicker",formItemAttrs:{label:"dataPicker",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{clearable:!0,type:"datetimerange","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"}}}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},X=J,Q=Object(u["a"])(X,D,H,!1,null,null,null),W=Q.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-upload",e._b({staticClass:"create_view_uploadfile",attrs:{action:"","http-request":e.fUploadRequest,"show-file-list":!1}},"el-upload",e.config.attrs,!1),[n("el-button",{staticClass:"upload-btn",attrs:{size:"small",plain:""}},[e._v("选择文件")]),e.fileName?n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.fileName))]):e._e()],1)},Z=[],ee=(n("ac1f"),n("1276"),"http://10.16.19.32:9300/upload/file"),te={name:"FileUpload",props:{value:{type:String,default:""},config:{type:Object,default:function(){return{type:"FileUpload",prop:"fileUpload",formItemAttrs:{label:"fileUpload",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{uploadUrl:"",allowFileTypes:"",maxSize:""}}}}},data:function(){return{fileName:this.model}},watch:{value:function(e){e||(this.fileName="")}},computed:{model:{get:function(){return this.value},set:function(e){e||(this.fileName=""),this.$emit("input",e)}}},methods:{fUploadRequest:function(e){var t=this,n=this.config.attrs,i=n&&n.uploadUrl||ee,a=n&&n.allowFileTypes,l=n&&n.maxSize,o=e.file,r=o.name.split("."),s=r[r.length-1];if(!a||a.includes(s))if(l&&o.size/1024/1024/l>1)this.$message.error("上传图片体积不能大于".concat(l,"MB"));else{var c=new FormData;c.append("file",o);var u=new XMLHttpRequest;u.open("put",i,!0),u.onload=function(){var e=JSON.parse(u.response);200===e.code&&e.data&&(t.fileName=o.name,t.model=e.data.url)},u.onerror=function(){t.$message.error("上传过程中发生错误请重新上传～")},u.send(c)}else this.$message.error("请上传".concat(a.join(","),"类型文件～"))}}},ne=te,ie=(n("b341"),Object(u["a"])(ne,Y,Z,!1,null,"087b12a4",null)),ae=ie.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",{directives:[{name:"list-getter",rawName:"v-list-getter",value:e.listGetterConfig,expression:"listGetterConfig"}],ref:e.config.prop,staticClass:"create_view_tablebox",attrs:{data:e.dataList,border:""},on:{"selection-change":e.handleSelectionChange}},[e.config.attrs.showSelection?n("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._l(e.config.columns,(function(t){return n("el-table-column",e._b({key:t.prop,attrs:{align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.row;return[e._v(" "+e._s(e._f("render")(i,t))+" ")]}}],null,!0)},"el-table-column",t,!1))}))],2)},oe=[],re={name:"CheckBox",data:function(){return{listKeyMap:{}}},props:{value:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{type:"Table",prop:"table",formItemAttrs:{label:"table",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{showSelection:!0},columns:[{prop:"map_name",label:"DSP名称","min-width":120},{prop:"map_value",label:"可用流量百分比","min-width":120}],listGetter:{url:"/basemappings",params:{datatype:"plat"},keyMap:{list:"data"},data:[],optionValue:"map_value",optionName:"map_name",optionValueUseIndex:!0}}}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},dataList:function(){var e=this.config.listGetter;return e?e.data:this.config.data},listGetterConfig:function(){var e=this.config.listGetter;return e?Object(l["a"])({},e,{ref:this.config.prop,filter:this.Ffilter}):null}},watch:{model:function(e){this.config.defaultValue&&e.join()===this.config.defaultValue.join()&&this.$refs[this.config.prop].clearSelection()}},created:function(){this.config.dataList&&this.Ffilter(this.config.dataList)},methods:{handleSelectionChange:function(e){var t=this,n=this.config.handleSelectFilter?this.config.handleSelectFilter(e):e;n=n.map((function(e){return e[t.config.listGetter.optionValue]})),this.model=n},Ffilter:function(e){var t=this,n=this.config.listGetter&&this.config.listGetter.filter?this.config.listGetter.filter(e):e;return n.forEach((function(e){var n=e[t.config.listGetter.optionValue];t.listKeyMap[n]=e})),setTimeout((function(){t.value.forEach((function(e){var n=t.listKeyMap[e];n&&t.$refs[t.config.prop].toggleRowSelection(n,!0)}))}),200),n}}},se=re,ce=Object(u["a"])(se,le,oe,!1,null,"0e456b0a",null),ue=ce.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"area-controller flex vertical",style:{height:e.config.height||"400px"}},[n("el-row",{staticClass:"grow-1 overflow-hidden flex",attrs:{gutter:30}},[n("el-col",{staticClass:"flex vertical overflow-hidden grow-1",attrs:{span:e.config.left}},[n("div",{staticClass:"left-wrapper grow-1 flex vertical overflow-hidden"},[e.config.canSearch?n("el-input",{staticClass:"w-100p",attrs:{clearable:"",disabled:e.config.disabled,placeholder:"输入内容回车搜索"},on:{change:e.fSearch},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}):e._e(),n("div",{staticClass:"grow-1 overflow-auto"},[n("v-tree",{ref:"tree",attrs:{tpl:e.tpl,data:e.list,multiple:!1},on:{"node-check":e.fOnNodeChecked,"async-load-nodes":e.fLoadList}})],1)],1)]),n("el-col",{staticClass:"dash-left grow-1 overflow-hidden flex",attrs:{span:24-e.config.left||12}},[n("div",{staticClass:"right-wrapper grow-1 overflow-auto"},[n("div",{staticClass:"tag-container"},[n("header",{staticClass:"section-title"},[e._v("已包含")]),e._l(e.aIncludes,(function(t){return n("el-tag",{key:t.title,staticClass:"eltag",attrs:{closable:!e.config.disabled},on:{close:function(n){return e.fOnIncludeClose(t)}}},[e._v(" "+e._s(t.cname||t.pname)+" ")])}))],2),n("div",{staticClass:"tag-container"},[n("header",{staticClass:"section-title",staticStyle:{color:"#F56C6C"}},[e._v("已排除")]),e._l(e.aExcludes,(function(t){return n("el-tag",{key:t.title,staticClass:"eltag",attrs:{type:"danger",closable:!e.config.disabled},on:{close:function(n){return e.fOnExcludeClose(t)}}},[e._v(" "+e._s(t.cname||t.pname)+" ")])}))],2)])])],1)],1)},de=[],pe=(n("13d5"),n("96cf"),n("1da1")),me=n("53ca"),he=n("0c6d"),ge=n("2b0e");ge["default"].use(VTree);var be={components:{},data:function(){return{bIsLoading:!1,list:[],searchName:"",aIncludes:this.value.includeList,aExcludes:this.value.excludeList}},props:{value:{type:Object,default:function(){return{excludeList:[],includeList:[]}}},config:{type:Object,default:function(){return{type:"Area",classStr:"",prop:"area",label:"Area类型",rules:[{required:!0,message:"请输入input类型",trigger:"blur"}],async:!1,url:"",params:{},dataType:"",autoload:!1,filter:function(){},left:12,height:"400px",paramsSet:function(){},keyMap:{data:"data"},include:{type:[Boolean,Function,Object,String],default:!0},exclude:{type:[Boolean,Function,Object,String],default:!0},method:"",loading:!1,beforeSend:function(){},onResponse:function(){},canSearch:!0,onInclude:function(){},onExclude:function(){},hidden:!1,disabled:!1}}}},created:function(){this.config.autoload&&this.fLoadList()},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},includeStr:function(){var e=this.config.include,t="包含";return"string"===typeof e?e:"object"===Object(me["a"])(e)&&e.text||t},excludeStr:function(){var e=this.config.exclude,t="排除";return"string"===typeof e?e:"object"===Object(me["a"])(e)&&e.text||t}},watch:{"model.includeList":function(){var e={};this.aIncludes=this.model.includeList||[].reduce((function(t,n){return!e[n.id]&&(e[n.id]=!0)&&t.push(n),t}),[])},"model.excludeList":function(){var e={};this.aExcludes=this.model.excludeList.reduce((function(t,n){return!e[n.id]&&(e[n.id]=!0)&&t.push(n),t}),[])}},methods:{fSearch:function(){var e=this;this.$nextTick((function(){var t=e.$refs.tree;t&&t.searchNodes(e.searchName)}))},tpl:function(){for(var e=this,t=this.$createElement,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=i[0],o="",r="";return this.fCheckRenderInclude(i)&&(o=t("el-button",{attrs:{size:"mini",disabled:this.config.disabled,type:"primary"},class:"x-mini-button",on:{click:function(){return e.fAddIncludes(l)}}},[this.includeStr])),this.fCheckRenderExclude(i)&&(r=t("el-button",{attrs:{size:"mini",disabled:this.config.disabled,type:"danger"},class:"x-mini-button",on:{click:function(){return e.fAddExcludes(l)}}},[this.excludeStr])),t("div",{class:"tree-node-container grow-1 flex overflow-hidden"},[t("div",{class:"node-title grow-1 overflow-hidden"},[t("div",{class:"ellipsis",domProps:{innerHTML:l.title}})]),o,r])},fCheckRenderInclude:function(e,t,n,i,a){if("boolean"===typeof this.config.include)return this.config.include;if("function"===typeof this.config.include)return this.config.include(e,t,n,i,a);if("object"===Object(me["a"])(this.config.include)){var l=this.config.include.check;if("function"===typeof l)return l(e,t,n,i,a)}return!0},fCheckRenderExclude:function(e,t,n,i,a){if("boolean"===typeof this.config.exclude)return this.config.exclude;if("function"===typeof this.config.exclude)return this.config.exclude(e,t,n,i,a);if("object"===Object(me["a"])(this.config.exclude)){var l=this.config.exclude.check;if("function"===typeof l)return l(e,t,n,i,a)}return!0},fOnNodeChecked:function(){},fFilter:function(e){return e},fLoadList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(pe["a"])(regeneratorRuntime.mark((function n(){var i,a,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i={},"function"!==typeof e.config.beforeSend||e.config.beforeSend()){n.next=3;break}return n.abrupt("return");case 3:return t||(e.bIsLoading=!0),a={url:e.config.url,method:e.config.method||"get"},e.config.dataType&&(a.dataType=e.config.dataType),l=i,e.node?"function"===typeof e.config.paramsSet&&(l=Object.assign(i,e.config.paramsSet(t))):l=Object.assign(i,e.config.params),e.config.useBody?a.data=l:a.params=l,n.next=11,Object(he["a"])(a).then((function(n){if(200===n.code&&n.data){var i,a,l=e.config.keyMap&&e.config.keyMap.data||"data",o=Object(q["get"])(n,l,[]);if("function"===typeof e.config.filter&&(o=e.config.filter(o)),o=e.fFilter(o),t)t.hasOwnProperty("children")||e.$set(t,"children",[]),(i=t.children).push.apply(i,Object(x["a"])(o));else(a=e.list).push.apply(a,Object(x["a"])(o));"function"===typeof e.config.onResponse&&e.config.onResponse.call(e.$parent,n)}else console.log(n.message)}))["catch"]((function(e){console.log(e)}));case 11:t||(e.bIsLoading=!1);case 12:case"end":return n.stop()}}),n)})))()},fAddIncludes:function(e){this.aIncludes.map((function(e){return e.allCode})).includes(e.allCode)||("function"!==typeof this.config.onInclude||this.config.onInclude(e,this.aIncludes,this.aExcludes))&&(this.fOnExcludeClose(e,!1),this.aIncludes.push(e),this.model.includeList=this.aIncludes)},fAddExcludes:function(e){this.aExcludes.map((function(e){return e.allCode})).includes(e.allCode)||("function"!==typeof this.onExclude||this.onExclude(e,this.aIncludes,this.aExcludes))&&(this.fOnIncludeClose(e,!1),this.aExcludes.push(e),this.model.excludeList=this.aExcludes)},fOnIncludeClose:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,i=this.aIncludes.map((function(t,i){return t.allCode===e.allCode&&(n=i),t.allCode})).includes(e.allCode);i&&this.aIncludes.splice(n,1),this.model.includeList=this.aIncludes,t&&this.$emit("change","include",e)},fOnExcludeClose:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,i=this.aExcludes.map((function(t,i){return t.allCode===e.allCode&&(n=i),t.allCode})).includes(e.allCode);i&&this.aExcludes.splice(n,1),this.model.excludeList=this.aExcludes,t&&this.$emit("change","exlucde",e)}},mounted:function(){}},ve=be,ye=(n("f9c1"),n("6536"),Object(u["a"])(ve,fe,de,!1,null,"1b5ed519",null)),_e=ye.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"section-title"},[e._v(e._s(e.config.title))])},ke=[],Ce={name:"Section",props:{config:{type:Object,default:function(){return{type:"Section",title:"第一部分"}}}}},we=Ce,Oe=(n("f11b"),Object(u["a"])(we,xe,ke,!1,null,"3ed7b4d0",null)),je=Oe.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create_view_tag"},[e._l(e.model,(function(t,i){return n("el-tag",e._b({key:i,on:{close:function(n){return e.handleClose(t)}}},"el-tag",e.config.attrs,!1),[e._v(" "+e._s(t)+" ")])})),e.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v(e._s("+"+e.config.addName||!1))])],2)},Ge=[],$e=(n("c975"),{name:"Tag",props:{value:{type:Array},config:{type:Object,default:function(){return{type:"Tag",prop:"tag",addName:"添加",formItemAttrs:{label:"tag",rules:[{required:!0,message:"请输入",trigger:"blur"}]},attrs:{closable:!0,"disable-transitions":!1}}}}},data:function(){return{inputVisible:!1,inputValue:""}},computed:{model:{get:function(){return this.value||[]},set:function(e){this.$emit("input",e)}}},mounted:function(){0===this.model.length&&(this.model=[])},methods:{handleClose:function(e){this.model.splice(this.model.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.model.push(e),this.inputVisible=!1,this.inputValue=""}}}),Se=$e,Ve=(n("ddbc"),Object(u["a"])(Se,Ie,Ge,!1,null,null,null)),Ee=Ve.exports,Le=n("4159"),Ne=n("1b62"),Ae={name:"createView",mixins:[Ne["c"]],components:{Cascader:d,Input:v,MultiInput:V,Select:I,Radio:F,CheckBox:K,DataPicker:W,FileUpload:ae,Table:ue,Area:_e,Section:je,Tag:Ee,OperationButtons:Le["a"]},props:{value:{type:Object},formItems:{type:Array},buttons:{type:Array},showSaveLoding:{type:Boolean}},data:function(){return{action:this.$route.meta.action}},computed:{data:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},_formItems:function(){var e=this,t=this.formItems.filter((function(e){return!e.hidden}));return t.map((function(t){return e.computeFormItem(t,e.data)})).filter((function(e){return e._ifRender}))},operationBtns:function(){return this.buttons?this.buttons:[{name:"返回",type:"info",isPlain:!0},{name:"保存",type:"primary",isPlain:!0},{name:"修改",type:"success",isPlain:!0,hidden:"view"!==this.action||!this.editLink}]}},methods:{computeFormItem:function(e,t){var n=Object(l["a"])({},e);return n.getAttrs&&(n.attrs=Object.assign(n.attrs,n.getAttrs(t))),n._ifRender=!n.ifRender||n.ifRender(t),n},fOperation:function(e){switch(e.name){case"返回":this.$router.back();break;case"保存":this.fSubmit();break;case"修改":this.$router.push(this.editLink||"");break;case"重置":this.fClear();default:this.$emit("operate",e.name);break}},fSubmit:function(){var e=this;if(this.showSaveLoding){var t="",n="";this.operationBtns.forEach((function(e,i){"保存"===e.name&&(t=i,n=e)}));var i=function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.disabled=i,n.icon=a,e.operationBtns.splice(t,1,n)};this.fVelidateForm(this.$refs.form,(function(){i(!0,"el-icon-loading"),e.$emit("submit",(function(){i(!1)}))}))}else this.fVelidateForm(this.$refs.form,(function(){e.$emit("submit")}))},fClear:function(){var e=this,t={};this.config.formItems.forEach((function(n){if(n.noReset)return!1;var i="";switch(n.type){case"Cascader":case"CheckBox":case"Table":case"Tag":i=n.defaultValue||[];break;case"Area":i=n.defaultValue||{includeList:[],excludeList:[]};break;case"Radio":i=n.defaultValue||0;break;case"Select":i=e.fGetSelectDefaultValue(n);break;case"MultiInput":i=[{value:n.defaultValue||"",select:n.select.defaultValue||""}];break;default:i=n.defaultValue||"";break}var a=e.data[n.prop];"create"!==e.action?t[n.prop]=null===a||""===a?i:a:t[n.prop]=i})),this.data=Object(l["a"])({},t)},fGetSelectDefaultValue:function(e){var t=e.listGetter?e.listGetter.dataList:e.dataList||[],n=e.listGetter&&e.listGetter.optionValue||"datavalue",i=t[0]&&t[0][n];return e.defaultValue?e.defaultValue:e.autoDefault&&t.length>0?e.multiple?[i]:i:e.multiple?[]:""}}},Me=Ae,Fe=(n("da04"),Object(u["a"])(Me,i,a,!1,null,null,null));t["a"]=Fe.exports},b341:function(e,t,n){"use strict";var i=n("482a"),a=n.n(i);a.a},c0fe:function(e,t,n){},c4f3:function(e,t,n){},c512:function(e,t,n){"use strict";var i=n("0334"),a=n.n(i);a.a},c751:function(e,t,n){"use strict";var i=n("345a"),a=n.n(i);a.a},d4af:function(e,t,n){},da04:function(e,t,n){"use strict";var i=n("c0fe"),a=n.n(i);a.a},ddbc:function(e,t,n){"use strict";var i=n("533e"),a=n.n(i);a.a},e176:function(e,t,n){"use strict";var i=n("fde9"),a=n.n(i);a.a},e57f:function(e,t,n){},ea12:function(e,t,n){},f11b:function(e,t,n){"use strict";var i=n("d4af"),a=n.n(i);a.a},f3c4:function(e,t,n){},f9c1:function(e,t,n){"use strict";var i=n("ea12"),a=n.n(i);a.a},fde9:function(e,t,n){}}]);