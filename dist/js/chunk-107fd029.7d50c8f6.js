(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-107fd029"],{"490a":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return o}));var n=r("0c6d");function a(e){return Object(n["a"])({url:"/system/modules/all/tree",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/system/modules/".concat(e.id),method:"delete"})}function u(e,t){return Object(n["a"])({url:"/system/modules",method:t?"put":"post",data:e})}function o(e){return Object(n["a"])({url:"/system/modules/".concat(e),method:"get"})}},6363:function(e,t,r){"use strict";var n=r("e401"),a=r.n(n);a.a},c5bc:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"module-create-wrap"},[r("create-view",{attrs:{formItems:e.formItems,"label-position":"right","label-width":"120px"},on:{submit:e.fSaveModule},model:{value:e.OModule,callback:function(t){e.OModule=t},expression:"OModule"}})],1)},a=[],s=(r("b0c0"),r("5530")),u=r("1b62"),o=r("490a"),i=r("72fe"),l=r("2ef0"),c={mixins:[u["c"]],components:{CreateView:i["a"]},data:function(){return{OModule:{parentId:this.$route.params.id,url:"/",level:1},formItems:[{type:"Section",title:"基本信息",hidden:!1,prop:"base"},{type:"Input",prop:"parentName",span:14,hidden:"edit"===this.$route.meta.action,formItemAttrs:{label:"上级模块"},attrs:{disabled:!0}},{type:"Input",prop:"name",span:14,formItemAttrs:{label:"名称",rules:[{required:!0,message:"名称必填",trigger:"blur"}]}},{type:"Input",prop:"url",span:14,formItemAttrs:{label:"前端地址",rules:[{required:!0,message:"前端地址必填",trigger:"blur"}]}},{type:"Input",prop:"code",span:14,formItemAttrs:{label:"CODE",rules:[{required:!0,message:"CODE必填",trigger:"blur"}]}},{type:"Input",prop:"note",span:14,formItemAttrs:{label:"备注"},attrs:{type:"textarea",rows:3}}]}},created:function(){this.fGetModuleInfo()},methods:{fGetModuleInfo:function(){var e=this;-1!==+this.$route.params.id&&Object(o["b"])(this.$route.params.id).then((function(t){var r=t.data;r&&(e.isEdit?e.OModule=Object(s["a"])({},e.OModule,{},r):e.isCreate&&(e.OModule=Object(s["a"])({},e.OModule,{url:"/"===r.url?"/":"".concat(r.url,"/"),parentName:r.name,parentId:r.id,level:r.level++})))}))},fSaveModule:function(){var e=this;this.OModule=this.isCreate?Object(l["omit"])(this.OModule,"parentName"):this.OModule,Object(o["d"])(this.OModule,this.isCreate).then((function(t){200===t.code&&e.$message({message:e.isEdit?"修改成功":"添加成功",type:"success"}),e.$router.back()}))["catch"]((function(e){}))}}},d=c,p=(r("6363"),r("2877")),m=Object(p["a"])(d,n,a,!1,null,"5147fd96",null);t["default"]=m.exports},e401:function(e,t,r){}}]);