(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2570a726"],{"0702":function(e,t,a){},6062:function(e,t,a){"use strict";var r=a("6d61"),n=a("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},6566:function(e,t,a){"use strict";var r=a("9bf2").f,n=a("7c73"),i=a("e2cc"),l=a("0366"),o=a("19aa"),s=a("2266"),u=a("7dd0"),c=a("2626"),d=a("83ab"),p=a("f183").fastKey,f=a("69f3"),m=f.set,h=f.getterFor;e.exports={getConstructor:function(e,t,a,u){var c=e((function(e,r){o(e,c,t),m(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=r&&s(r,e[u],e,a)})),f=h(t),v=function(e,t,a){var r,n,i=f(e),l=b(e,t);return l?l.value=a:(i.last=l={index:n=p(t,!0),key:t,value:a,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=l),r&&(r.next=l),d?i.size++:e.size++,"F"!==n&&(i.index[n]=l)),e},b=function(e,t){var a,r=f(e),n=p(t);if("F"!==n)return r.index[n];for(a=r.first;a;a=a.next)if(a.key==t)return a};return i(c.prototype,{clear:function(){var e=this,t=f(e),a=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete a[r.index],r=r.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,a=f(t),r=b(t,e);if(r){var n=r.next,i=r.previous;delete a.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),a.first==r&&(a.first=n),a.last==r&&(a.last=i),d?a.size--:t.size--}return!!r},forEach:function(e){var t,a=f(this),r=l(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!b(this,e)}}),i(c.prototype,a?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&r(c.prototype,"size",{get:function(){return f(this).size}}),c},setStrong:function(e,t,a){var r=t+" Iterator",n=h(t),i=h(r);u(e,t,(function(e,t){m(this,{type:r,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),c(t)}}},"6d61":function(e,t,a){"use strict";var r=a("23e7"),n=a("da84"),i=a("94ca"),l=a("6eeb"),o=a("f183"),s=a("2266"),u=a("19aa"),c=a("861d"),d=a("d039"),p=a("1c7e"),f=a("d44e"),m=a("7156");e.exports=function(e,t,a){var h=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),b=h?"set":"add",g=n[e],y=g&&g.prototype,w=g,k={},x=function(e){var t=y[e];l(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:function(e,a){return t.call(this,0===e?0:e,a),this})};if(i(e,"function"!=typeof g||!(v||y.forEach&&!d((function(){(new g).entries().next()})))))w=a.getConstructor(t,e,h,b),o.REQUIRED=!0;else if(i(e,!0)){var I=new w,T=I[b](v?{}:-0,1)!=I,M=d((function(){I.has(1)})),j=p((function(e){new g(e)})),O=!v&&d((function(){var e=new g,t=5;while(t--)e[b](t,t);return!e.has(-0)}));j||(w=t((function(t,a){u(t,w,e);var r=m(new g,t,w);return void 0!=a&&s(a,r[b],r,h),r})),w.prototype=y,y.constructor=w),(M||O)&&(x("delete"),x("has"),h&&x("get")),(O||T)&&x(b),v&&y.clear&&delete y.clear}return k[e]=w,r({global:!0,forced:w!=g},k),f(w,e),v||a.setStrong(w,e,h),w}},7878:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s}));a("99af"),a("4160"),a("a15b"),a("d81d"),a("ac1f"),a("1276"),a("159b");var r=a("5530"),n=a("ed08");function i(e){var t=e.map((function(e){var t=Object(r["a"])({},e);return null==t.cname||""==t.cname?(t.result=t.nname,t.data=t.nname):(t.result=t.cname,t.data=t.cname),"CN"==t.ncode?t.value=t.ccode:t.value=t.ncode,t}));return t}function l(e){var t=e.hourdirect,a=e.minuteDirect;if(void 0!=t&&null!=t||(t=""),void 0!=a&&null!=a||(a=""),""==t&&""==a)return"-";var r=[];return t&&t.split(",").forEach((function(e,t){r.push(t-1)})),"小时: ".concat(r.join(","),";分钟: ").concat(a)}function o(e){return e.starttime&&e.endtime?"".concat(Object(n["d"])(e.starttime,"{y}-{m}-{d}"),"\n               ~ ").concat(Object(n["d"])(e.endtime,"{y}-{m}-{d}")):""}function s(e){var t="0";return null!=e.allcount&&(t=e.allcount),null!=e.mendBookpackages&&(t+="&nbsp;<span class='green_tip'>"+e.allMendcount+"</span>"),t}},bb2f:function(e,t,a){var r=a("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cbd4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-wraper fullsize fullsize-flex adedit-page"},[a("top-search-bar",{ref:"searchRef",attrs:{config:e.searchItems},on:{fSearch:e.fSearch,operate:e.fOperation}},[a("el-select",{attrs:{slot:"search-right",size:"medium"},slot:"search-right",model:{value:e.currentBarTemplate,callback:function(t){e.currentBarTemplate=t},expression:"currentBarTemplate"}},e._l(e.curBarTemplateList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.bIsLoading,expression:"bIsLoading"}],staticClass:"adver-table",attrs:{data:e.showAdvertisementList,"max-height":"500",border:""},on:{"selection-change":e.fSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._l(e.columns,(function(t){return a("el-table-column",e._b({key:t.prop,attrs:{align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.row;return[a("span",{domProps:{innerHTML:e._s(e.$options.filters.render(n,t))}})]}}],null,!0)},"el-table-column",t,!1))}))],2)],1)},n=[],i=(a("99af"),a("4de4"),a("4160"),a("caad"),a("d81d"),a("6eba"),a("0d03"),a("b0c0"),a("b64b"),a("d3b7"),a("ac1f"),a("6062"),a("2532"),a("3ca3"),a("1276"),a("159b"),a("ddb0"),a("5530")),l=(a("96cf"),a("1da1")),o=a("1b62"),s=a("7878"),u={id:"",status:"",createTime:null,createUser:null,updateTime:null,updateUser:null,order:null,orderBy:null,page:"",startPos:null,pageSize:"",gate:null,projectid:null,freqInfo:null,pushfreqInfo:null,name:"",bartemplateid:"",bartemplatename:"",type:"",plat:"",redirect:"",priority:null,weight:null,flightstatus:"",creator:"",createtime:"",modifier:"",modifytime:"",advactivename:null,isrelatematerial:null,isrelatetongfabook:null,isreleatefreq:null,starttime:"",sort:null,count:null,storylineseq:null,projNumber:null,endtime:"",callback:"",finishedstatistics:"",clickstatistics:null,stoptime:null,isfinishedstatistics:"",delay:"",iscrazyrun:"",pageType:null,league:"",thirdPingBack:"",conflictad:"",isseed:"",bartemplateids:null,isjspingback:"",monitions:null,monition:null,ishalf:"",isrotation:"",appjumpaddr:"",appjumpmaddr:"",advPlatName:null,frequencies:null,pushFrequencies:null,newmonition:null,materials:[],floatMaterial:null,topViewMaterial:null,leftMaterial:null,rightMaterial:null,materialIds:null,title:"",area:null,vid:null,advidForUpdateFlight:null,materialcode:null,groupclick:null,autocasing:null,displaykeyword:"",speakkeyword:"",skipseconds:"",skipmonitor:"",successword:"",isvoicead:"",startskipseconds:"",issdkmonitor:"",excludefbarad:"",groupids:null,needUpdateFlight:"",adGroup:null,groupid:"",groupName:"",customerredirect:"",mclickstatistics:"",isvpaid:"",vpaidurl:"",voiceProvider:"",isfrequency:null,isChangedProjectlevel:"",advactiveid:"",monitor:"",bgcolorForFocus:"",startTimeType:"",endTimeType:"",flightPriorities:[],ids:null,bookpackageIds:null,needMultyPingback:!1,mpingback:null,insertflag:null,hardadflag:null,displaypos:null,pjumptime:null,pchargingtime:null,iscascade:"",bookpackageid:null,cascadeIds:[],cascadeAd:null,is_union:"",uniontype:null,unionAd:null,last_is_union:null,last_unionAd:null,isdeeplink:"",primerMaterial:null,primerMaterialId:null,primerMaterialName:null,primerMaterialUrl:null,primerMaterialTime:null,clearPrimerMaterialId:null,downloadurl:"",adtemplate:"",imagetitle:"",imagesubtitle:"",realimagesubtitle:"",buttontext:"",uniteControlFreq:!1,baseModelZhDes:"",excluded:"",isshell:""},c=(a("a15b"),a("0c6d"));function d(){return Object(c["a"])({url:"/d/bartemplate/list",method:"get",params:{pageSize:1e3}})}function p(e){return Object(c["a"])({url:"/d/adgroup/list",method:"post",data:{idsStr:e.join(","),pageSize:e.length},dataType:"formData"})}function f(e,t){return Object(c["a"])({url:"/d/advertisement/listbyagids",method:"post",data:{groupids:e.join(","),maIds:t.join(",")},dataType:"formData"})}var m=a("46f1"),h={mixins:[o["c"]],components:{TopSearchBar:m["a"]},data:function(){var e=this.$route.query;return{projectId:e.projectid,adgroupIds:e.agids&&e.agids.split(",")||[],adverIds:e.maIds&&e.maIds.split(",")||[],plats:[],durations:[],bIsLoading:!0,errorTemplates:[],barTemplateMap:{},adgroupMap:{},curBarTemplateMap:{},advertisementMap:{},advertisementList:[],allAdversimentIds:[],currentBarTemplate:""}},computed:{curBarTemplateList:function(){var e=this;return Object.keys(this.curBarTemplateMap).map((function(t){var a=e.curBarTemplateMap[t],r=e.errorTemplates.includes(t);return{value:t,label:"".concat(a.name).concat(r?"*":""),style:{color:r?"red":"black"}}}))},searchItems:function(){return{labelWidth:"70px",topButtons:[{name:"删除广告"},{name:"生成goto",pemissionUrl:""}],defaultSearch:{placeholder:"搜索内容后请敲回车键...",key:"FCNBSearch"},searchItems:[{type:"Input",prop:"searchGroupName",formItemAttrs:{label:"广告组名称","label-width":"75px"},attrs:{clearable:!0,style:"width:120px"}},{type:"Input",prop:"searchGodName",formItemAttrs:{label:"广告名称"},attrs:{clearable:!0,style:"width:120px"}},{type:"Select",prop:"searchArea",default:[],formItemAttrs:{label:"地域定向"},attrs:{placeholder:"请选择",multiple:!0,filterable:!0,"collapse-tags":!0,clearable:!0,style:"max-width:150px"},listGetter:{url:"/d/area/searchArealist",params:{},keyMap:{list:"rows"},data:[],optionValue:"value",optionName:"data",filter:s["b"]}},{type:"Input",prop:"searchMaterialId",formItemAttrs:{label:"物料id"},attrs:{clearable:!0,style:"width:120px"}},{type:"Select",prop:"searchDelay",default:"",formItemAttrs:{label:"广告时长"},attrs:{placeholder:"请选择",clearable:!0,style:"max-width:100px"},data:this.durations},{type:"Select",prop:"searchPlat",default:"",formItemAttrs:{label:"平台"},attrs:{placeholder:"请选择",clearable:!0,style:"max-width:120px"},data:this.plats},{type:"CheckBox",prop:"searchJs",default:"0",formItemAttrs:{label:"匹配地域 "},attrs:{"true-label":"1","false-label":"0"}}]}},columns:function(){return[{prop:"id",label:"广告组ID","min-width":60,fixed:"left",formatter:function(e){return e.__bIsTemp?"":e.id}},{prop:"name",label:"广告名称","min-width":200,formatter:function(e){return e.group.name}},{prop:"platName",label:"平台","min-width":80,formatter:function(e){return e.group.platName}},{prop:"area",label:"地域","min-width":80,formatter:function(e){return e.group.area}},{prop:"resource",label:"内容","min-width":120,formatter:function(e){return e.group.resource}},{prop:"duration",label:"广告时长","min-width":80,formatter:function(e){return e.group.duration}},{prop:"adstyleName",label:"广告形式","min-width":80,formatter:function(e){return e.group.adstyleName}},{prop:"type",label:"广告类型","min-width":80,formatter:function(e){var t={0:"普通线",1:"事故线"};return t[e.type]||"未知"}},{prop:"note",label:"备注","min-width":80}]},showAdvertisementList:function(){var e=this;return this.advertisementList.filter((function(t){return t.group.templateId===e.currentBarTemplate}))}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fGetAllBarTemplateList();case 2:return t.next=4,e.fGetGroupList();case 4:return t.next=6,e.fGetAdvertisimentList();case 6:case"end":return t.stop()}}),t)})))()},methods:{fGetAllBarTemplateList:function(){var e=this;d().then((function(t){var a=t.rows||[];a.forEach((function(t){e.barTemplateMap[t.id]=t}))}))},fGetGroupList:function(){var e=this;p(this.adgroupIds).then((function(t){if(t&&t.rows){var a={};t.rows.forEach((function(t){var r=t.adstyle||"oad",n=Object(i["a"])({},t,{templateId:t.templateId||"".concat(r,"_1"),godTemplate:JSON.parse(t.godtemplate&&t.godtemplate.template)});e.adgroupMap[t.id]=n,a[n.templateId]=n.godTemplate})),e.curBarTemplateMap=Object(i["a"])({},a),Object.keys(a).length>0&&(e.currentBarTemplate=Object.keys(a)[0])}}))},fGetAdvertisimentList:function(){var e=this;f(this.adgroupIds,this.adverIds).then((function(t){var a=t.rows||[];a.forEach((function(t){var a=e.adgroupMap[t.groupid];if(a){var r=e.barTemplateMap[a.bartempletid],n=a.godTemplate?e.fDealAdverOther(a.godTemplate):{},l=Object(i["a"])({},t,{},n,{group:a,starttimeTemp:t.starttime,endtimeTemp:t.endtime,barTemplate:r,barconfig:JSON.parse(r&&r.config)||{}});e.allAdversimentIds.push(t.id),e.advertisementList.push(l)}}));var r=new Set,n=new Set;Object.keys(e.adgroupMap).forEach((function(t){var a=e.adgroupMap[t];if(!a.__bHasAdver){var l=e.barTemplateMap[a.bartempletid],o=a.godTemplate?e.fDealAdverOther(a.godTemplate):{},s=Object(i["a"])({},u,{},o,{group:a,id:"".concat(a.id,"_").concat(Date.now()),barTemplate:l,barconfig:JSON.parse(l&&l.config)||{},__bIsTemp:!0});e.advertisementList.push(s)}var c=a.platName;r.has(c)||(r.add(c),e.plats.push({datavalue:c,dataname:c}));var d=a.duration;d>0&&!n.has(d)&&(n.add(d),e.durations.push({datavalue:d,dataname:d}))})),e.advertisementList.forEach((function(t){if(e.advertisementMap[t.id]=t,t.barconfig&&t.barconfig.clickMonitor&&t.mclickstatistics){var a=t.mclickstatistics.split("#|#");t.mclickstatistics=a[a.length-1]}})),e.bIsLoading=!1}))},fDealAdverOther:function(e){var t=e.barconfig||{};return{adtemplate:e.adtemplate||null,haveFloatMaterial:t.haveFloatMaterial||null,topview:t.topview||null,haveLinkMaterial:t.haveLinkMaterial||null}},fSearch:function(){},fOperation:function(){},fSelectChange:function(){}}},v=h,b=(a("fffc"),a("2877")),g=Object(b["a"])(v,r,n,!1,null,null,null);t["default"]=g.exports},f183:function(e,t,a){var r=a("d012"),n=a("861d"),i=a("5135"),l=a("9bf2").f,o=a("90e3"),s=a("bb2f"),u=o("meta"),c=0,d=Object.isExtensible||function(){return!0},p=function(e){l(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},f=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,u)){if(!d(e))return"F";if(!t)return"E";p(e)}return e[u].objectID},m=function(e,t){if(!i(e,u)){if(!d(e))return!0;if(!t)return!1;p(e)}return e[u].weakData},h=function(e){return s&&v.REQUIRED&&d(e)&&!i(e,u)&&p(e),e},v=e.exports={REQUIRED:!1,fastKey:f,getWeakData:m,onFreeze:h};r[u]=!0},fffc:function(e,t,a){"use strict";var r=a("0702"),n=a.n(r);n.a}}]);